var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function l(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function a(t,e,n,o,r,s,c){const i=function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(e,o,r,s);if(i){const r=l(e,n,o,c);t.p(r,i)}}function u(t,e,n=e){return t.set(n),e}const f="undefined"!=typeof window;let d=f?()=>window.performance.now():()=>Date.now(),p=f?t=>requestAnimationFrame(t):t;const m=new Set;function $(t){m.forEach((e=>{e.c(t)||(m.delete(e),e.f())})),0!==m.size&&p($)}function g(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function w(){return x(" ")}function v(){return x("")}function k(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function O(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function E(t,e,n){t.classList[n?"add":"remove"](e)}function C(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const S=new Set;let T,z=0;function M(t,e,n,o,r,s,c,i=0){const l=16.666/o;let a="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*s(t);a+=100*t+`%{${c(o,1-o)}}\n`}const u=a+`100% {${c(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`,d=t.ownerDocument;S.add(d);const p=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(b("style")).sheet),m=d.__svelte_rules||(d.__svelte_rules={});m[f]||(m[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const $=t.style.animation||"";return t.style.animation=`${$?`${$}, `:""}${f} ${o}ms linear ${r}ms 1 both`,z+=1,f}function R(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),z-=r,z||p((()=>{z||(S.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),S.clear())})))}function F(t){T=t}function L(){if(!T)throw new Error("Function called outside component initialization");return T}const A=[],j=[],N=[],P=[],D=Promise.resolve();let I=!1;function B(t){N.push(t)}let H=!1;const W=new Set;function J(){if(!H){H=!0;do{for(let t=0;t<A.length;t+=1){const e=A[t];F(e),U(e.$$)}for(F(null),A.length=0;j.length;)j.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];W.has(e)||(W.add(e),e())}N.length=0}while(A.length);for(;P.length;)P.pop()();I=!1,H=!1,W.clear()}}function U(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}let q;function G(t,e,n){t.dispatchEvent(C(`${e?"intro":"outro"}${n}`))}const V=new Set;let K;function Q(){K={r:0,c:[],p:K}}function X(){K.r||r(K.c),K=K.p}function Y(t,e){t&&t.i&&(V.delete(t),t.i(e))}function Z(t,e,n,o){if(t&&t.o){if(V.has(t))return;V.add(t),K.c.push((()=>{V.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const tt={duration:0};function et(n,o,c,i){let l=o(n,c),a=i?0:1,u=null,f=null,g=null;function h(){g&&R(n,g)}function y(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(o){const{delay:s=0,duration:c=300,easing:i=e,tick:b=t,css:x}=l||tt,w={start:d()+s,b:o};o||(w.group=K,K.r+=1),u||f?f=w:(x&&(h(),g=M(n,a,o,c,s,i,x)),o&&b(0,1),u=y(w,c),B((()=>G(n,o,"start"))),function(t){let e;0===m.size&&p($),new Promise((n=>{m.add(e={c:t,f:n})}))}((t=>{if(f&&t>f.start&&(u=y(f,c),f=null,G(n,u.b,"start"),x&&(h(),g=M(n,a,u.b,u.duration,0,i,l.css))),u)if(t>=u.end)b(a=u.b,1-a),G(n,u.b,"end"),f||(u.b?h():--u.group.r||r(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*i(e/u.duration),b(a,1-a)}return!(!u&&!f)})))}return{run(t){s(l)?(q||(q=Promise.resolve(),q.then((()=>{q=null}))),q).then((()=>{l=l(),b(t)})):b(t)},end(){h(),u=f=null}}}function nt(t,e){Z(t,1,1,(()=>{e.delete(t.key)}))}function ot(t,e,n,o,r,s,c,i,l,a,u,f){let d=t.length,p=s.length,m=d;const $={};for(;m--;)$[t[m].key]=m;const g=[],h=new Map,y=new Map;for(m=p;m--;){const t=f(r,s,m),i=n(t);let l=c.get(i);l?o&&l.p(t,e):(l=a(i,t),l.c()),h.set(i,g[m]=l),i in $&&y.set(i,Math.abs(m-$[i]))}const b=new Set,x=new Set;function w(t){Y(t,1),t.m(i,u),c.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=g[p-1],n=t[d-1],o=e.key,r=n.key;e===n?(u=e.first,d--,p--):h.has(r)?!c.has(o)||b.has(o)?w(e):x.has(r)?d--:y.get(o)>y.get(r)?(x.add(o),w(e)):(b.add(r),d--):(l(n,c),d--)}for(;d--;){const e=t[d];h.has(e.key)||l(e,c)}for(;p;)w(g[p-1]);return g}function rt(t){t&&t.c()}function st(t,e,o,c){const{fragment:i,on_mount:l,on_destroy:a,after_update:u}=t.$$;i&&i.m(e,o),c||B((()=>{const e=l.map(n).filter(s);a?a.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(B)}function ct(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){-1===t.$$.dirty[0]&&(A.push(t),I||(I=!0,D.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function lt(e,n,s,c,i,l,a=[-1]){const u=T;F(e);const f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a,skip_bound:!1};let d=!1;if(f.ctx=s?s(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),d&&it(e,t)),n})):[],f.update(),d=!0,r(f.before_update),f.fragment=!!c&&c(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(y)}else f.fragment&&f.fragment.c();n.intro&&Y(e.$$.fragment),st(e,n.target,n.anchor,n.customElement),J()}F(u)}class at{$destroy(){ct(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ut=async t=>(await new Promise(((t,e)=>{const n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCO0eT8a8507-un6p7aNNdJ_VF22jtcHW4&v=3&libraries=places",n.onload=t,n.onerror=e,document.head.appendChild(n)})),new google.maps.places.Autocomplete(t,{types:["geocode"]}));function ft(e){let n,o,r,s;return{c(){n=b("div"),o=b("label"),o.textContent="What time is it in",r=w(),s=b("input"),_(o,"for","search-text"),_(o,"class","flex-none whitespace-nowrap"),_(s,"class","mx-2 px-1 py-2 w-1 flex-grow focus:outline-none focus:ring-1 ring-primary-500 rounded-sm"),_(s,"id","search-text"),_(s,"type","search"),_(s,"placeholder","some city"),_(n,"class","flex place-items-center rounded-xl bg-white px-4 py-2 my-4")},m(t,c){h(t,n,c),g(n,o),g(n,r),g(n,s),e[1](s)},p:t,i:t,o:t,d(t){t&&y(n),e[1](null)}}}function dt(t,e,n){let o,r;const s=function(){const t=L();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=C(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}();var c;function i(){const t=r.getPlace();if(!t||!t.geometry)return;const e=t.geometry.location,c={location:t.formatted_address,lat:e.lat(),lng:e.lng(),minutesOffset:t.utc_offset_minutes};n(0,o.value="",o),s("locationselected",c)}return c=async()=>{r=await ut(o),r.addListener("place_changed",i),o.focus()},L().$$.on_mount.push(c),[o,function(t){j[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class pt extends at{constructor(t){super(),lt(this,t,dt,ft,c,{})}}function mt(e){let n;return{c(){n=b("div"),n.innerHTML='<span>Fork it on <a href="https://github.com/matita/clocks/">GitHub</a></span>\n  ·\n  <span>Need a feature? Found a bug? <a href="https://github.com/matita/clocks/issues">File an issue</a>!</span>\n  ·\n  <span>Made by <a href="http://matita.github.io/2015/10/17/clocks/">Matita</a></span>',_(n,"class","text-center text-sm pb-2 text-gray-400")},m(t,e){h(t,n,e)},p:t,i:t,o:t,d(t){t&&y(n)}}}class $t extends at{constructor(t){super(),lt(this,t,null,mt,c,{})}}function gt(t){const e=t-1;return e*e*e+1}function ht(t,{delay:n=0,duration:o=400,easing:r=e}={}){const s=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*s}}function yt(t,{delay:e=0,duration:n=400,easing:o=gt}={}){const r=getComputedStyle(t),s=+r.opacity,c=parseFloat(r.height),i=parseFloat(r.paddingTop),l=parseFloat(r.paddingBottom),a=parseFloat(r.marginTop),u=parseFloat(r.marginBottom),f=parseFloat(r.borderTopWidth),d=parseFloat(r.borderBottomWidth);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*s};height: ${t*c}px;padding-top: ${t*i}px;padding-bottom: ${t*l}px;margin-top: ${t*a}px;margin-bottom: ${t*u}px;border-top-width: ${t*f}px;border-bottom-width: ${t*d}px;`}}const bt=[];function xt(e,n=t){let o;const r=[];function s(t){if(c(e,t)&&(e=t,o)){const t=!bt.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),bt.push(n,e)}if(t){for(let t=0;t<bt.length;t+=2)bt[t][0](bt[t+1]);bt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(c,i=t){const l=[c,i];return r.push(l),1===r.length&&(o=n(s)||t),c(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const wt={subscribe:xt(Date.now(),(t=>{const e=setInterval((()=>{t(Date.now())}),100);return()=>{clearInterval(e)}})).subscribe};const vt=t=>encodeURIComponent(t).replace(/%20/g,"+").replace(/%2C/g,",");function kt(t){let e,n,o,r;const s=t[1].default,c=function(t,e,n,o){if(t){const r=l(t,e,n,o);return t[0](r)}}(s,t,t[0],null);return{c(){e=b("div"),c&&c.c(),_(e,"class","block px-4 py-2 text-sm text-gray-700 hover:bg-primary-100 hover:text-primary-900"),_(e,"role","menuitem")},m(s,i){var l;h(s,e,i),c&&c.m(e,null),n=!0,o||(r=k(e,"click",(l=t[2],function(t){return t.stopPropagation(),l.call(this,t)})),o=!0)},p(t,[e]){c&&c.p&&1&e&&a(c,s,t,t[0],e,null,null)},i(t){n||(Y(c,t),n=!0)},o(t){Z(c,t),n=!1},d(t){t&&y(e),c&&c.d(t),o=!1,r()}}}function _t(t,e,n){let{$$slots:o={},$$scope:r}=e;return t.$$set=t=>{"$$scope"in t&&n(0,r=t.$$scope)},[r,o,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)}]}class Ot extends at{constructor(t){super(),lt(this,t,_t,kt,c,{})}}const{subscribe:Et,update:Ct}=xt([]);let St=1;var Tt={subscribe:Et,add:({location:t,minutesOffset:e,name:n})=>Ct((o=>o.some((o=>o.location===t&&o.minutesOffset===e&&o.name===n))?o:o.concat({location:t,minutesOffset:e,name:n,id:St++}))),rename:(t,e)=>Ct((n=>n.map((n=>n!==t?n:{...t,name:e})))),delete:t=>Ct((e=>e.filter((e=>e!==t))))};function zt(t){let e,n,o,r,s,c,i,l,a,u,f;return o=new Ot({props:{$$slots:{default:[Mt]},$$scope:{ctx:t}}}),o.$on("click",t[4]),s=new Ot({props:{$$slots:{default:[Rt]},$$scope:{ctx:t}}}),s.$on("click",t[7]),i=new Ot({props:{$$slots:{default:[Ft]},$$scope:{ctx:t}}}),i.$on("click",t[6]),{c(){e=b("div"),n=b("div"),rt(o.$$.fragment),r=w(),rt(s.$$.fragment),c=w(),rt(i.$$.fragment),_(n,"role","menu"),_(n,"class","bg-white w-56 mx-auto rounded-md ring-1 ring-black ring-opacity-5 py-1"),_(e,"class","z-10 bg-black bg-opacity-30 fixed top-0 left-0 right-0 bottom-0 flex place-items-center")},m(l,d){h(l,e,d),g(e,n),st(o,n,null),g(n,r),st(s,n,null),g(n,c),st(i,n,null),a=!0,u||(f=k(e,"click",t[8]),u=!0)},p(t,e){const n={};512&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const r={};516&e&&(r.$$scope={dirty:e,ctx:t}),s.$set(r);const c={};512&e&&(c.$$scope={dirty:e,ctx:t}),i.$set(c)},i(t){a||(Y(o.$$.fragment,t),Y(s.$$.fragment,t),Y(i.$$.fragment,t),B((()=>{l||(l=et(e,ht,{duration:100},!0)),l.run(1)})),a=!0)},o(t){Z(o.$$.fragment,t),Z(s.$$.fragment,t),Z(i.$$.fragment,t),l||(l=et(e,ht,{duration:100},!1)),l.run(0),a=!1},d(t){t&&y(e),ct(o),ct(s),ct(i),t&&l&&l.end(),u=!1,f()}}}function Mt(t){let e;return{c(){e=x("Rename")},m(t,n){h(t,e,n)},d(t){t&&y(e)}}}function Rt(t){let e,n=t[2]?"Link copied!":"Share";return{c(){e=x(n)},m(t,n){h(t,e,n)},p(t,o){4&o&&n!==(n=t[2]?"Link copied!":"Share")&&O(e,n)},d(t){t&&y(e)}}}function Ft(t){let e;return{c(){e=x("Delete")},m(t,n){h(t,e,n)},d(t){t&&y(e)}}}function Lt(t){let e,n,o,r,s,c,i,l,a,u,f,d,p,m=(t[0].name||"---")+"",$=t[0].location+"",v=t[3]&&zt(t);return{c(){e=b("div"),n=b("div"),o=x(m),r=w(),s=b("div"),c=x($),i=w(),l=b("button"),l.textContent="⋮",a=w(),v&&v.c(),_(n,"class","text-gray-500"),_(s,"class","text-xs text-gray-400"),_(l,"class","absolute top-2 right-1 px-2"),_(e,"class","bg-white px-4 py-2 mb-2 relative rounded-xl transition-shadow duration-300")},m(u,m){h(u,e,m),g(e,n),g(n,o),g(e,r),g(e,s),g(s,c),g(e,i),g(e,l),g(e,a),v&&v.m(e,null),f=!0,d||(p=k(l,"click",t[5]),d=!0)},p(t,[n]){(!f||1&n)&&m!==(m=(t[0].name||"---")+"")&&O(o,m),(!f||1&n)&&$!==($=t[0].location+"")&&O(c,$),t[3]?v?(v.p(t,n),8&n&&Y(v,1)):(v=zt(t),v.c(),Y(v,1),v.m(e,null)):v&&(Q(),Z(v,1,1,(()=>{v=null})),X())},i(t){f||(Y(v),B((()=>{u||(u=et(e,yt,{},!0)),u.run(1)})),f=!0)},o(t){Z(v),u||(u=et(e,yt,{},!1)),u.run(0),f=!1},d(t){t&&y(e),v&&v.d(),t&&u&&u.end(),d=!1,p()}}}let At=xt(null);function jt(t,e,n){let o,r;i(t,At,(t=>n(1,r=t)));let{clock:s}=e,c=!1;return t.$$set=t=>{"clock"in t&&n(0,s=t.clock)},t.$$.update=()=>{3&t.$$.dirty&&n(3,o=r===s)},[s,r,c,o,function(){u(At,r=null,r);const t=prompt("Name of the clock:",s.name||"");null!==t&&Tt.rename(s,t)},function(){u(At,r=s,r)},function(){confirm("Are you sure you want to delete this clock?")&&(u(At,r=null,r),Tt.delete(s))},function(){if(c)return;const t=`${location.protocol}//${location.host}${location.pathname}?clocks=${(t=>t.filter((t=>!t.isLocal)).map((t=>[t.location,t.minutesOffset,t.name||""].map(vt).join(";"))).join("|"))([s])}`;var e,o,i,l;e=t,(l=document.createElement("div")).contentEditable=!0,l.innerHTML=e,l.setAttribute("readonly",""),l.style.position="absolute",l.style.left="-9999px",document.body.appendChild(l),document.body.createTextRange?((o=document.body.createTextRange()).moveToElement(l),o.select()):window.getSelection&&(i=window.getSelection(),(o=document.createRange()).selectNodeContents(l),i.removeAllRanges(),i.addRange(o)),document.execCommand("copy"),window.getSelection().removeAllRanges(),document.body.removeChild(l),n(2,c=!0),setTimeout((()=>{n(2,c=!1),u(At,r=null,r)}),1e3)},()=>u(At,r=null,r)]}class Nt extends at{constructor(t){super(),lt(this,t,jt,Lt,c,{clock:0})}}function Pt(t,e,n){const o=t.slice();return o[8]=e[n],o}function Dt(t,e){let n,o,r;return o=new Nt({props:{clock:e[8]}}),{key:t,first:null,c(){n=v(),rt(o.$$.fragment),this.first=n},m(t,e){h(t,n,e),st(o,t,e),r=!0},p(t,n){e=t;const r={};2&n&&(r.clock=e[8]),o.$set(r)},i(t){r||(Y(o.$$.fragment,t),r=!0)},o(t){Z(o.$$.fragment,t),r=!1},d(t){t&&y(n),ct(o,t)}}}function It(t){let e,n,o,r,s,c,i,l,a,u,f,d=[],p=new Map,m=t[1];const $=t=>t[8].id;for(let e=0;e<m.length;e+=1){let n=Pt(t,m,e),o=$(n);p.set(o,d[e]=Dt(o,n))}return{c(){e=b("div"),n=b("div"),o=b("div"),r=b("span"),s=x(t[0]),c=w(),i=b("div"),i.textContent=`GMT${t[2]>=0?`+${t[2]}`:t[2]}`,l=w(),a=b("div");for(let t=0;t<d.length;t+=1)d[t].c();E(r,"text-primary-600",t[3]),_(i,"class","text-xs text-gray-400"),E(i,"text-primary-500",t[3]),_(o,"class","text-center py-2 px-2 sticky top-0"),_(n,"class","flex-none relative w-24"),_(a,"class","flex-1"),_(e,"class","flex max-w-full")},m(t,u){h(t,e,u),g(e,n),g(n,o),g(o,r),g(r,s),g(o,c),g(o,i),g(e,l),g(e,a);for(let t=0;t<d.length;t+=1)d[t].m(a,null);f=!0},p(t,[e]){(!f||1&e)&&O(s,t[0]),2&e&&(m=t[1],Q(),d=ot(d,e,$,1,t,m,p,a,nt,Dt,null,Pt),X())},i(t){if(!f){for(let t=0;t<m.length;t+=1)Y(d[t]);B((()=>{u||(u=et(e,yt,{},!0)),u.run(1)})),f=!0}},o(t){for(let t=0;t<d.length;t+=1)Z(d[t]);u||(u=et(e,yt,{},!1)),u.run(0),f=!1},d(t){t&&y(e);for(let t=0;t<d.length;t+=1)d[t].d();t&&u&&u.end()}}}function Bt(t,e,n){let o,r;i(t,wt,(t=>n(5,r=t)));let s,{zone:c}=e;const l=new Date,a=("minutesOffset"in c?c.minutesOffset:-l.getTimezoneOffset())/60,u=c.minutesOffset===-l.getTimezoneOffset();return t.$$set=t=>{"zone"in t&&n(4,c=t.zone)},t.$$.update=()=>{48&t.$$.dirty&&(l.setTime(r+60*((c.minutesOffset||0)+(c.isLocal?0:l.getTimezoneOffset()))*1e3),n(0,s=l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))),16&t.$$.dirty&&n(1,o=c.clocks.sort(((t,e)=>(t.name||"").localeCompare(e.name||""))))},[s,o,a,u,c,r]}class Ht extends at{constructor(t){super(),lt(this,t,Bt,It,c,{zone:4})}}function Wt(t,e,n){const o=t.slice();return o[2]=e[n],o}function Jt(t,e){let n,o,r;return o=new Ht({props:{zone:e[2]}}),{key:t,first:null,c(){n=v(),rt(o.$$.fragment),this.first=n},m(t,e){h(t,n,e),st(o,t,e),r=!0},p(t,n){e=t;const r={};1&n&&(r.zone=e[2]),o.$set(r)},i(t){r||(Y(o.$$.fragment,t),r=!0)},o(t){Z(o.$$.fragment,t),r=!1},d(t){t&&y(n),ct(o,t)}}}function Ut(t){let e,n,o=[],r=new Map,s=t[0];const c=t=>t[2].minutesOffset;for(let e=0;e<s.length;e+=1){let n=Wt(t,s,e),i=c(n);r.set(i,o[e]=Jt(i,n))}return{c(){e=b("div");for(let t=0;t<o.length;t+=1)o[t].c();_(e,"class","")},m(t,r){h(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){1&n&&(s=t[0],Q(),o=ot(o,n,c,1,t,s,r,e,nt,Jt,null,Wt),X())},i(t){if(!n){for(let t=0;t<s.length;t+=1)Y(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)Z(o[t]);n=!1},d(t){t&&y(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function qt(t,e,n){let o,r;return i(t,Tt,(t=>n(1,r=t))),t.$$.update=()=>{2&t.$$.dirty&&n(0,o=Object.entries(r.reduce(((t,e)=>{const{minutesOffset:n}=e;return(t[n]=t[n]||[]).push(e),t}),{})).map((([t,e])=>({minutesOffset:+t,clocks:e}))).sort(((t,e)=>t.minutesOffset-e.minutesOffset)))},[o,r]}class Gt extends at{constructor(t){super(),lt(this,t,qt,Ut,c,{})}}function Vt(e){let n,o,r,s,c,i,l,a;return r=new pt({}),r.$on("locationselected",e[0]),c=new Gt({}),l=new $t({}),{c(){n=b("div"),o=b("div"),rt(r.$$.fragment),s=w(),rt(c.$$.fragment),i=w(),rt(l.$$.fragment),_(o,"class","max-w-xl mx-auto my-4 text-gray-600"),_(n,"class","flex-grow")},m(t,e){h(t,n,e),g(n,o),st(r,o,null),g(o,s),st(c,o,null),h(t,i,e),st(l,t,e),a=!0},p:t,i(t){a||(Y(r.$$.fragment,t),Y(c.$$.fragment,t),Y(l.$$.fragment,t),a=!0)},o(t){Z(r.$$.fragment,t),Z(c.$$.fragment,t),Z(l.$$.fragment,t),a=!1},d(t){t&&y(n),ct(r),ct(c),t&&y(i),ct(l,t)}}}function Kt(t){const e=new URLSearchParams(location.search.substr(1)),n=(e.get("clocks")||"").split("|").filter((t=>!!t)).map((t=>{const[e,n,o]=t.split(";").map(decodeURIComponent);return{location:e,name:o,minutesOffset:+n}}));history.replaceState({},"Clocks","?"),setTimeout((()=>{n.forEach(Tt.add)}),200);try{JSON.parse(localStorage.clocks_items).forEach(Tt.add)}catch(t){console.log("error while loading from localStorage",t)}return Tt.subscribe((t=>localStorage.clocks_items=JSON.stringify(t.filter((t=>!t.isLocal))))),[function({detail:t}){Tt.add(t)}]}return new class extends at{constructor(t){super(),lt(this,t,Kt,Vt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
