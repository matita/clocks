var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function l(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function a(t,e,n,o,r,s,c){const i=function(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}(e,o,r,s);if(i){const r=l(e,n,o,c);t.p(r,i)}}function u(t,e,n=e){return t.set(n),e}const f="undefined"!=typeof window;let d=f?()=>window.performance.now():()=>Date.now(),p=f?t=>requestAnimationFrame(t):t;const m=new Set;function $(t){m.forEach((e=>{e.c(t)||(m.delete(e),e.f())})),0!==m.size&&p($)}function g(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function w(){return x(" ")}function v(){return x("")}function _(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function k(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function O(t,e,n){t.classList[n?"add":"remove"](e)}function S(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const T=new Set;let z,M=0;function R(t,e,n,o,r,s,c,i=0){const l=16.666/o;let a="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*s(t);a+=100*t+`%{${c(o,1-o)}}\n`}const u=a+`100% {${c(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`,d=t.ownerDocument;T.add(d);const p=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(b("style")).sheet),m=d.__svelte_rules||(d.__svelte_rules={});m[f]||(m[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const $=t.style.animation||"";return t.style.animation=`${$?`${$}, `:""}${f} ${o}ms linear ${r}ms 1 both`,M+=1,f}function F(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),M-=r,M||p((()=>{M||(T.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),T.clear())})))}function A(t){z=t}function L(){if(!z)throw new Error("Function called outside component initialization");return z}const j=[],N=[],P=[],D=[],I=Promise.resolve();let B=!1;function H(t){P.push(t)}let W=!1;const J=new Set;function U(){if(!W){W=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];A(e),q(e.$$)}for(A(null),j.length=0;N.length;)N.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];J.has(e)||(J.add(e),e())}P.length=0}while(j.length);for(;D.length;)D.pop()();B=!1,W=!1,J.clear()}}function q(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}let G;function V(t,e,n){t.dispatchEvent(S(`${e?"intro":"outro"}${n}`))}const K=new Set;let Q;function X(){Q={r:0,c:[],p:Q}}function Y(){Q.r||r(Q.c),Q=Q.p}function Z(t,e){t&&t.i&&(K.delete(t),t.i(e))}function tt(t,e,n,o){if(t&&t.o){if(K.has(t))return;K.add(t),Q.c.push((()=>{K.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const et={duration:0};function nt(n,o,c,i){let l=o(n,c),a=i?0:1,u=null,f=null,g=null;function h(){g&&F(n,g)}function y(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(o){const{delay:s=0,duration:c=300,easing:i=e,tick:b=t,css:x}=l||et,w={start:d()+s,b:o};o||(w.group=Q,Q.r+=1),u||f?f=w:(x&&(h(),g=R(n,a,o,c,s,i,x)),o&&b(0,1),u=y(w,c),H((()=>V(n,o,"start"))),function(t){let e;0===m.size&&p($),new Promise((n=>{m.add(e={c:t,f:n})}))}((t=>{if(f&&t>f.start&&(u=y(f,c),f=null,V(n,u.b,"start"),x&&(h(),g=R(n,a,u.b,u.duration,0,i,l.css))),u)if(t>=u.end)b(a=u.b,1-a),V(n,u.b,"end"),f||(u.b?h():--u.group.r||r(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*i(e/u.duration),b(a,1-a)}return!(!u&&!f)})))}return{run(t){s(l)?(G||(G=Promise.resolve(),G.then((()=>{G=null}))),G).then((()=>{l=l(),b(t)})):b(t)},end(){h(),u=f=null}}}function ot(t,e){tt(t,1,1,(()=>{e.delete(t.key)}))}function rt(t,e,n,o,r,s,c,i,l,a,u,f){let d=t.length,p=s.length,m=d;const $={};for(;m--;)$[t[m].key]=m;const g=[],h=new Map,y=new Map;for(m=p;m--;){const t=f(r,s,m),i=n(t);let l=c.get(i);l?o&&l.p(t,e):(l=a(i,t),l.c()),h.set(i,g[m]=l),i in $&&y.set(i,Math.abs(m-$[i]))}const b=new Set,x=new Set;function w(t){Z(t,1),t.m(i,u),c.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=g[p-1],n=t[d-1],o=e.key,r=n.key;e===n?(u=e.first,d--,p--):h.has(r)?!c.has(o)||b.has(o)?w(e):x.has(r)?d--:y.get(o)>y.get(r)?(x.add(o),w(e)):(b.add(r),d--):(l(n,c),d--)}for(;d--;){const e=t[d];h.has(e.key)||l(e,c)}for(;p;)w(g[p-1]);return g}function st(t){t&&t.c()}function ct(t,e,o,c){const{fragment:i,on_mount:l,on_destroy:a,after_update:u}=t.$$;i&&i.m(e,o),c||H((()=>{const e=l.map(n).filter(s);a?a.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(H)}function it(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(t,e){-1===t.$$.dirty[0]&&(j.push(t),B||(B=!0,I.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(e,n,s,c,i,l,a=[-1]){const u=z;A(e);const f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a,skip_bound:!1};let d=!1;if(f.ctx=s?s(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),d&&lt(e,t)),n})):[],f.update(),d=!0,r(f.before_update),f.fragment=!!c&&c(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(y)}else f.fragment&&f.fragment.c();n.intro&&Z(e.$$.fragment),ct(e,n.target,n.anchor,n.customElement),U()}A(u)}class ut{$destroy(){it(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ft=async t=>(await new Promise(((t,e)=>{const n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCO0eT8a8507-un6p7aNNdJ_VF22jtcHW4&v=3&libraries=places",n.onload=t,n.onerror=e,document.head.appendChild(n)})),new google.maps.places.Autocomplete(t,{types:["geocode"]}));function dt(e){let n,o,r,s;return{c(){n=b("div"),o=b("label"),o.textContent="What time is it in",r=w(),s=b("input"),C(o,"for","search-text"),C(s,"class","mx-2 px-1 py-2 flex-grow focus:outline-none focus:ring-1 ring-green-500 rounded-sm"),C(s,"id","search-text"),C(s,"type","search"),C(s,"placeholder","some city"),C(n,"class","flex place-items-center rounded-xl bg-white px-4 py-2 my-4")},m(t,c){h(t,n,c),g(n,o),g(n,r),g(n,s),e[1](s)},p:t,i:t,o:t,d(t){t&&y(n),e[1](null)}}}function pt(t,e,n){let o,r;const s=function(){const t=L();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=S(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}();var c;function i(){const t=r.getPlace();if(!t||!t.geometry)return;const e=t.geometry.location,c={location:t.formatted_address,lat:e.lat(),lng:e.lng(),minutesOffset:t.utc_offset_minutes};n(0,o.value="",o),s("locationselected",c)}return c=async()=>{r=await ft(o),r.addListener("place_changed",i),o.focus()},L().$$.on_mount.push(c),[o,function(t){N[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class mt extends ut{constructor(t){super(),at(this,t,pt,dt,c,{})}}function $t(e){let n;return{c(){n=b("div"),n.innerHTML='<span>Fork it on <a href="https://github.com/matita/clocks/">GitHub</a></span>\n  ·\n  <span>Need a feature? Found a bug? <a href="https://github.com/matita/clocks/issues">File an issue</a>!</span>\n  ·\n  <span>Made by <a href="http://matita.github.io/2015/10/17/clocks/">Matita</a></span>',C(n,"class","text-center text-sm pb-2 text-gray-400")},m(t,e){h(t,n,e)},p:t,i:t,o:t,d(t){t&&y(n)}}}class gt extends ut{constructor(t){super(),at(this,t,null,$t,c,{})}}function ht(t){const e=t-1;return e*e*e+1}function yt(t,{delay:e=0,duration:n=400,easing:o=ht}={}){const r=getComputedStyle(t),s=+r.opacity,c=parseFloat(r.height),i=parseFloat(r.paddingTop),l=parseFloat(r.paddingBottom),a=parseFloat(r.marginTop),u=parseFloat(r.marginBottom),f=parseFloat(r.borderTopWidth),d=parseFloat(r.borderBottomWidth);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*s};height: ${t*c}px;padding-top: ${t*i}px;padding-bottom: ${t*l}px;margin-top: ${t*a}px;margin-bottom: ${t*u}px;border-top-width: ${t*f}px;border-bottom-width: ${t*d}px;`}}const bt=[];function xt(e,n=t){let o;const r=[];function s(t){if(c(e,t)&&(e=t,o)){const t=!bt.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),bt.push(n,e)}if(t){for(let t=0;t<bt.length;t+=2)bt[t][0](bt[t+1]);bt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(c,i=t){const l=[c,i];return r.push(l),1===r.length&&(o=n(s)||t),c(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const wt={subscribe:xt(Date.now(),(t=>{const e=setInterval((()=>{t(Date.now())}),100);return()=>{clearInterval(e)}})).subscribe};const vt=t=>encodeURIComponent(t).replace(/%20/g,"+").replace(/%2C/g,",");function _t(t){let e,n,o,r;const s=t[2].default,c=function(t,e,n,o){if(t){const r=l(t,e,n,o);return t[0](r)}}(s,t,t[1],null);return{c(){e=b("button"),c&&c.c(),C(e,"class","uppercase px-2 focus:outline-none focus:ring-1 focus:ring-gray-300"),O(e,"text-green-500",!t[0]),O(e,"text-red-500",t[0])},m(s,i){h(s,e,i),c&&c.m(e,null),n=!0,o||(r=_(e,"click",k(t[3])),o=!0)},p(t,[n]){c&&c.p&&2&n&&a(c,s,t,t[1],n,null,null),1&n&&O(e,"text-green-500",!t[0]),1&n&&O(e,"text-red-500",t[0])},i(t){n||(Z(c,t),n=!0)},o(t){tt(c,t),n=!1},d(t){t&&y(e),c&&c.d(t),o=!1,r()}}}function kt(t,e,n){let{$$slots:o={},$$scope:r}=e,{danger:s=!1}=e;return t.$$set=t=>{"danger"in t&&n(0,s=t.danger),"$$scope"in t&&n(1,r=t.$$scope)},[s,r,o,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)}]}class Ct extends ut{constructor(t){super(),at(this,t,kt,_t,c,{danger:0})}}const{subscribe:Et,update:Ot}=xt([]);let St=1;var Tt={subscribe:Et,add:t=>Ot((e=>e.concat({...t,id:St++}))),rename:(t,e)=>Ot((n=>n.map((n=>n!==t?n:{...t,name:e})))),delete:t=>Ot((e=>e.filter((e=>e!==t))))};function zt(t){let e,n,o,r,s,c,i,l,a,u,f,d;return r=new Ct({props:{danger:!0,$$slots:{default:[Mt]},$$scope:{ctx:t}}}),r.$on("click",t[5]),c=new Ct({props:{$$slots:{default:[Rt]},$$scope:{ctx:t}}}),c.$on("click",t[6]),l=new Ct({props:{$$slots:{default:[Ft]},$$scope:{ctx:t}}}),l.$on("click",t[3]),{c(){e=b("button"),e.textContent="×",n=w(),o=b("div"),st(r.$$.fragment),s=w(),st(c.$$.fragment),i=w(),st(l.$$.fragment),C(e,"class","absolute top-1 right-1 px-2 focus:outline-none focus:ring-1"),C(o,"class","text-right")},m(a,p){h(a,e,p),h(a,n,p),h(a,o,p),ct(r,o,null),g(o,s),ct(c,o,null),g(o,i),ct(l,o,null),u=!0,f||(d=_(e,"click",k(t[8])),f=!0)},p(t,e){const n={};512&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n);const o={};514&e&&(o.$$scope={dirty:e,ctx:t}),c.$set(o);const s={};512&e&&(s.$$scope={dirty:e,ctx:t}),l.$set(s)},i(t){u||(Z(r.$$.fragment,t),Z(c.$$.fragment,t),Z(l.$$.fragment,t),H((()=>{a||(a=nt(o,yt,{},!0)),a.run(1)})),u=!0)},o(t){tt(r.$$.fragment,t),tt(c.$$.fragment,t),tt(l.$$.fragment,t),a||(a=nt(o,yt,{},!1)),a.run(0),u=!1},d(t){t&&y(e),t&&y(n),t&&y(o),it(r),it(c),it(l),t&&a&&a.end(),f=!1,d()}}}function Mt(t){let e;return{c(){e=x("Delete")},m(t,n){h(t,e,n)},d(t){t&&y(e)}}}function Rt(t){let e,n=t[1]?"Copied!":"Share";return{c(){e=x(n)},m(t,n){h(t,e,n)},p(t,o){2&o&&n!==(n=t[1]?"Copied!":"Share")&&E(e,n)},d(t){t&&y(e)}}}function Ft(t){let e;return{c(){e=x("Rename")},m(t,n){h(t,e,n)},d(t){t&&y(e)}}}function At(t){let e,n,o,r,s,c,i,l,a,u,f,d=(t[0].name||"---")+"",p=t[0].location+"",m=t[2]&&zt(t);return{c(){e=b("div"),n=b("div"),o=x(d),r=w(),s=b("div"),c=x(p),i=w(),m&&m.c(),C(n,"class","text-green-500"),C(s,"class","text-xs text-gray-400"),C(e,"class","bg-white px-4 py-2 mb-2 relative rounded-xl transition-shadow duration-300"),O(e,"z-10",t[2]),O(e,"shadow-none",!t[2]),O(e,"shadow-lg",t[2])},m(l,d){h(l,e,d),g(e,n),g(n,o),g(e,r),g(e,s),g(s,c),g(e,i),m&&m.m(e,null),a=!0,u||(f=_(e,"click",t[4]),u=!0)},p(t,[n]){(!a||1&n)&&d!==(d=(t[0].name||"---")+"")&&E(o,d),(!a||1&n)&&p!==(p=t[0].location+"")&&E(c,p),t[2]?m?(m.p(t,n),4&n&&Z(m,1)):(m=zt(t),m.c(),Z(m,1),m.m(e,null)):m&&(X(),tt(m,1,1,(()=>{m=null})),Y()),4&n&&O(e,"z-10",t[2]),4&n&&O(e,"shadow-none",!t[2]),4&n&&O(e,"shadow-lg",t[2])},i(t){a||(Z(m),H((()=>{l||(l=nt(e,yt,{},!0)),l.run(1)})),a=!0)},o(t){tt(m),l||(l=nt(e,yt,{},!1)),l.run(0),a=!1},d(t){t&&y(e),m&&m.d(),t&&l&&l.end(),u=!1,f()}}}let Lt=xt(null);function jt(t,e,n){let o,r;i(t,Lt,(t=>n(7,r=t)));let{clock:s}=e,c=!1;return t.$$set=t=>{"clock"in t&&n(0,s=t.clock)},t.$$.update=()=>{129&t.$$.dirty&&n(2,o=r===s)},[s,c,o,function(){const t=prompt("Name of the clock:",s.name||"");null!==t&&(u(Lt,r=null,r),Tt.rename(s,t))},function(){u(Lt,r=s,r)},function(){confirm("Are you sure you want to delete this clock?")&&(u(Lt,r=null,r),Tt.delete(s))},function(){if(c)return;const t=`${location.protocol}//${location.host}${location.pathname}?clocks=${(t=>t.filter((t=>!t.isLocal)).map((t=>[t.location,t.minutesOffset,t.name||""].map(vt).join(";"))).join("|"))([s])}`;var e,o,r,i;e=t,(i=document.createElement("div")).contentEditable=!0,i.innerHTML=e,i.setAttribute("readonly",""),i.style.position="absolute",i.style.left="-9999px",document.body.appendChild(i),document.body.createTextRange?((o=document.body.createTextRange()).moveToElement(i),o.select()):window.getSelection&&(r=window.getSelection(),(o=document.createRange()).selectNodeContents(i),r.removeAllRanges(),r.addRange(o)),document.execCommand("copy"),window.getSelection().removeAllRanges(),document.body.removeChild(i),n(1,c=!0),setTimeout((()=>n(1,c=!1)),1200)},r,()=>n(2,o=!1)]}class Nt extends ut{constructor(t){super(),at(this,t,jt,At,c,{clock:0})}}function Pt(t,e,n){const o=t.slice();return o[7]=e[n],o}function Dt(t,e){let n,o,r;return o=new Nt({props:{clock:e[7]}}),{key:t,first:null,c(){n=v(),st(o.$$.fragment),this.first=n},m(t,e){h(t,n,e),ct(o,t,e),r=!0},p(t,n){e=t;const r={};2&n&&(r.clock=e[7]),o.$set(r)},i(t){r||(Z(o.$$.fragment,t),r=!0)},o(t){tt(o.$$.fragment,t),r=!1},d(t){t&&y(n),it(o,t)}}}function It(t){let e,n,o,r,s,c,i,l,a,u,f,d=[],p=new Map,m=t[1];const $=t=>t[7].id;for(let e=0;e<m.length;e+=1){let n=Pt(t,m,e),o=$(n);p.set(o,d[e]=Dt(o,n))}return{c(){e=b("div"),n=b("div"),o=b("div"),r=b("span"),s=x(t[0]),c=w(),i=b("div"),i.textContent=`GMT${t[2]>=0?`+${t[2]}`:t[2]}`,l=w(),a=b("div");for(let t=0;t<d.length;t+=1)d[t].c();C(i,"class","text-xs text-gray-400"),C(o,"class","text-center py-2 px-2 sticky top-0"),C(n,"class","flex-none relative w-24"),C(a,"class","flex-1"),C(e,"class","flex max-w-full")},m(t,u){h(t,e,u),g(e,n),g(n,o),g(o,r),g(r,s),g(o,c),g(o,i),g(e,l),g(e,a);for(let t=0;t<d.length;t+=1)d[t].m(a,null);f=!0},p(t,[e]){(!f||1&e)&&E(s,t[0]),2&e&&(m=t[1],X(),d=rt(d,e,$,1,t,m,p,a,ot,Dt,null,Pt),Y())},i(t){if(!f){for(let t=0;t<m.length;t+=1)Z(d[t]);H((()=>{u||(u=nt(e,yt,{},!0)),u.run(1)})),f=!0}},o(t){for(let t=0;t<d.length;t+=1)tt(d[t]);u||(u=nt(e,yt,{},!1)),u.run(0),f=!1},d(t){t&&y(e);for(let t=0;t<d.length;t+=1)d[t].d();t&&u&&u.end()}}}function Bt(t,e,n){let o,r;i(t,wt,(t=>n(4,r=t)));let s,{zone:c}=e;const l=new Date,a=("minutesOffset"in c?c.minutesOffset:-l.getTimezoneOffset())/60;return t.$$set=t=>{"zone"in t&&n(3,c=t.zone)},t.$$.update=()=>{24&t.$$.dirty&&(l.setTime(r+60*((c.minutesOffset||0)+(c.isLocal?0:l.getTimezoneOffset()))*1e3),n(0,s=l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))),8&t.$$.dirty&&n(1,o=c.clocks.sort(((t,e)=>(t.name||"").localeCompare(e.name||""))))},[s,o,a,c,r]}class Ht extends ut{constructor(t){super(),at(this,t,Bt,It,c,{zone:3})}}function Wt(t,e,n){const o=t.slice();return o[2]=e[n],o}function Jt(t,e){let n,o,r;return o=new Ht({props:{zone:e[2]}}),{key:t,first:null,c(){n=v(),st(o.$$.fragment),this.first=n},m(t,e){h(t,n,e),ct(o,t,e),r=!0},p(t,n){e=t;const r={};1&n&&(r.zone=e[2]),o.$set(r)},i(t){r||(Z(o.$$.fragment,t),r=!0)},o(t){tt(o.$$.fragment,t),r=!1},d(t){t&&y(n),it(o,t)}}}function Ut(t){let e,n,o=[],r=new Map,s=t[0];const c=t=>t[2].minutesOffset;for(let e=0;e<s.length;e+=1){let n=Wt(t,s,e),i=c(n);r.set(i,o[e]=Jt(i,n))}return{c(){e=b("div");for(let t=0;t<o.length;t+=1)o[t].c();C(e,"class","")},m(t,r){h(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){1&n&&(s=t[0],X(),o=rt(o,n,c,1,t,s,r,e,ot,Jt,null,Wt),Y())},i(t){if(!n){for(let t=0;t<s.length;t+=1)Z(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)tt(o[t]);n=!1},d(t){t&&y(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function qt(t,e,n){let o,r;return i(t,Tt,(t=>n(1,r=t))),t.$$.update=()=>{2&t.$$.dirty&&n(0,o=Object.entries(r.reduce(((t,e)=>{const{minutesOffset:n}=e;return(t[n]=t[n]||[]).push(e),t}),{})).map((([t,e])=>({minutesOffset:+t,clocks:e}))).sort(((t,e)=>t.minutesOffset-e.minutesOffset)))},[o,r]}class Gt extends ut{constructor(t){super(),at(this,t,qt,Ut,c,{})}}function Vt(e){let n,o,r,s,c,i,l,a;return r=new mt({}),r.$on("locationselected",e[0]),c=new Gt({}),l=new gt({}),{c(){n=b("div"),o=b("div"),st(r.$$.fragment),s=w(),st(c.$$.fragment),i=w(),st(l.$$.fragment),C(o,"class","max-w-xl mx-auto my-4 text-gray-600"),C(n,"class","flex-grow")},m(t,e){h(t,n,e),g(n,o),ct(r,o,null),g(o,s),ct(c,o,null),h(t,i,e),ct(l,t,e),a=!0},p:t,i(t){a||(Z(r.$$.fragment,t),Z(c.$$.fragment,t),Z(l.$$.fragment,t),a=!0)},o(t){tt(r.$$.fragment,t),tt(c.$$.fragment,t),tt(l.$$.fragment,t),a=!1},d(t){t&&y(n),it(r),it(c),t&&y(i),it(l,t)}}}function Kt(t){const e=new URLSearchParams(location.search.substr(1)),n=(e.get("clocks")||"").split("|").filter((t=>!!t)).map((t=>{const[e,n,o]=t.split(";").map(decodeURIComponent);return{location:e,name:o,minutesOffset:+n}}));history.replaceState({},"Clocks","?"),setTimeout((()=>{n.forEach(Tt.add)}),200);try{JSON.parse(localStorage.clocks_items).forEach(Tt.add)}catch(t){console.log("error while loading from localStorage",t)}return Tt.subscribe((t=>localStorage.clocks_items=JSON.stringify(t.filter((t=>!t.isLocal))))),[function({detail:t}){Tt.add(t)}]}return new class extends ut{constructor(t){super(),at(this,t,Kt,Vt,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
