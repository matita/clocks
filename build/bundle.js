var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(n)}function c(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function i(t,e,n){t.$$.on_destroy.push(l(e,n))}function a(t,e,n,o){if(t){const s=u(t,e,n,o);return t[0](s)}}function u(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function f(t,e,n,o,s,c,r){const l=function(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|s[o];return t}return e.dirty|s}return e.dirty}(e,o,s,c);if(l){const s=u(e,n,o,r);t.p(s,l)}}function d(t,e,n=e){return t.set(n),e}const $="undefined"!=typeof window;let p=$?()=>window.performance.now():()=>Date.now(),m=$?t=>requestAnimationFrame(t):t;const g=new Set;function h(t){g.forEach((e=>{e.c(t)||(g.delete(e),e.f())})),0!==g.size&&m(h)}function y(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function v(){return k(" ")}function _(){return k("")}function L(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function O(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function C(t,e,n){t.classList[n?"add":"remove"](e)}function E(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const S=new Set;let T,z=0;function R(t,e,n,o,s,c,r,l=0){const i=16.666/o;let a="{\n";for(let t=0;t<=1;t+=i){const o=e+(n-e)*c(t);a+=100*t+`%{${r(o,1-o)}}\n`}const u=a+`100% {${r(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${l}`,d=t.ownerDocument;S.add(d);const $=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(w("style")).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[f]||(p[f]=!0,$.insertRule(`@keyframes ${f} ${u}`,$.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${o}ms linear ${s}ms 1 both`,z+=1,f}function F(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-o.length;s&&(t.style.animation=o.join(", "),z-=s,z||m((()=>{z||(S.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),S.clear())})))}function j(t){T=t}function A(){if(!T)throw new Error("Function called outside component initialization");return T}function N(){const t=A();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const s=E(e,n);o.slice().forEach((e=>{e.call(t,s)}))}}}function D(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const P=[],H=[],I=[],B=[],W=Promise.resolve();let J=!1;function U(t){I.push(t)}let q=!1;const G=new Set;function Y(){if(!q){q=!0;do{for(let t=0;t<P.length;t+=1){const e=P[t];j(e),V(e.$$)}for(j(null),P.length=0;H.length;)H.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];G.has(e)||(G.add(e),e())}I.length=0}while(P.length);for(;B.length;)B.pop()();J=!1,q=!1,G.clear()}}function V(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}let K;function Q(t,e,n){t.dispatchEvent(E(`${e?"intro":"outro"}${n}`))}const X=new Set;let Z;function tt(){Z={r:0,c:[],p:Z}}function et(){Z.r||s(Z.c),Z=Z.p}function nt(t,e){t&&t.i&&(X.delete(t),t.i(e))}function ot(t,e,n,o){if(t&&t.o){if(X.has(t))return;X.add(t),Z.c.push((()=>{X.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const st={duration:0};function ct(n,o,r,l){let i=o(n,r),a=l?0:1,u=null,f=null,d=null;function $(){d&&F(n,d)}function y(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function x(o){const{delay:c=0,duration:r=300,easing:l=e,tick:x=t,css:b}=i||st,w={start:p()+c,b:o};o||(w.group=Z,Z.r+=1),u||f?f=w:(b&&($(),d=R(n,a,o,r,c,l,b)),o&&x(0,1),u=y(w,r),U((()=>Q(n,o,"start"))),function(t){let e;0===g.size&&m(h),new Promise((n=>{g.add(e={c:t,f:n})}))}((t=>{if(f&&t>f.start&&(u=y(f,r),f=null,Q(n,u.b,"start"),b&&($(),d=R(n,a,u.b,u.duration,0,l,i.css))),u)if(t>=u.end)x(a=u.b,1-a),Q(n,u.b,"end"),f||(u.b?$():--u.group.r||s(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*l(e/u.duration),x(a,1-a)}return!(!u&&!f)})))}return{run(t){c(i)?(K||(K=Promise.resolve(),K.then((()=>{K=null}))),K).then((()=>{i=i(),x(t)})):x(t)},end(){$(),u=f=null}}}function rt(t,e){ot(t,1,1,(()=>{e.delete(t.key)}))}function lt(t,e,n,o,s,c,r,l,i,a,u,f){let d=t.length,$=c.length,p=d;const m={};for(;p--;)m[t[p].key]=p;const g=[],h=new Map,y=new Map;for(p=$;p--;){const t=f(s,c,p),l=n(t);let i=r.get(l);i?o&&i.p(t,e):(i=a(l,t),i.c()),h.set(l,g[p]=i),l in m&&y.set(l,Math.abs(p-m[l]))}const x=new Set,b=new Set;function w(t){nt(t,1),t.m(l,u),r.set(t.key,t),u=t.first,$--}for(;d&&$;){const e=g[$-1],n=t[d-1],o=e.key,s=n.key;e===n?(u=e.first,d--,$--):h.has(s)?!r.has(o)||x.has(o)?w(e):b.has(s)?d--:y.get(o)>y.get(s)?(b.add(o),w(e)):(x.add(s),d--):(i(n,r),d--)}for(;d--;){const e=t[d];h.has(e.key)||i(e,r)}for(;$;)w(g[$-1]);return g}function it(t){t&&t.c()}function at(t,e,o,r){const{fragment:l,on_mount:i,on_destroy:a,after_update:u}=t.$$;l&&l.m(e,o),r||U((()=>{const e=i.map(n).filter(c);a?a.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(U)}function ut(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,e){-1===t.$$.dirty[0]&&(P.push(t),J||(J=!0,W.then(Y)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function dt(e,n,c,r,l,i,a=[-1]){const u=T;j(e);const f=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:a,skip_bound:!1};let d=!1;if(f.ctx=c?c(e,n.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return f.ctx&&l(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),d&&ft(e,t)),n})):[],f.update(),d=!0,s(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(b)}else f.fragment&&f.fragment.c();n.intro&&nt(e.$$.fragment),at(e,n.target,n.anchor,n.customElement),Y()}j(u)}class $t{$destroy(){ut(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const pt=async t=>(await new Promise(((t,e)=>{const n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCO0eT8a8507-un6p7aNNdJ_VF22jtcHW4&v=3&libraries=places",n.onload=t,n.onerror=e,document.head.appendChild(n)})),new google.maps.places.Autocomplete(t,{types:["geocode"]})),mt=[];function gt(e,n=t){let o;const s=[];function c(t){if(r(e,t)&&(e=t,o)){const t=!mt.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),mt.push(n,e)}if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,l=t){const i=[r,l];return s.push(i),1===s.length&&(o=n(c)||t),r(e),()=>{const t=s.indexOf(i);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}const{subscribe:ht,update:yt}=gt(""),xt=t=>yt((()=>t.trim().toLowerCase()));var bt={subscribe:ht,search:xt,reset:()=>xt("")};function wt(e){let n,o,s,c,r,l;return{c(){n=w("div"),o=w("label"),o.textContent="What time is it in",s=v(),c=w("input"),M(o,"for","search-text"),M(o,"class","flex-none whitespace-nowrap"),M(c,"class","mx-2 px-1 py-2 w-1 flex-grow focus:outline-none focus:ring-1 ring-primary-500 rounded-sm"),M(c,"id","search-text"),M(c,"type","search"),M(c,"placeholder","some city"),M(n,"class","flex place-items-center rounded-xl bg-white px-4 py-2 my-4")},m(t,i){x(t,n,i),y(n,o),y(n,s),y(n,c),e[2](c),r||(l=L(c,"input",e[1]),r=!0)},p:t,i:t,o:t,d(t){t&&b(n),e[2](null),r=!1,l()}}}function kt(t,e,n){let o,s,c;const r=N();var l;function i(){const t=c.getPlace();if(!t||!t.geometry)return;const e=t.geometry.location,s={location:t.formatted_address,lat:e.lat(),lng:e.lng(),minutesOffset:t.utc_offset_minutes};n(0,o.value="",o),r("locationselected",s),bt.reset()}return l=async()=>{o.focus()},A().$$.on_mount.push(l),[o,async function(t){t.preventDefault();const e=t.target.value;bt.search(e),s||(s=pt(o),c=await s,c.addListener("place_changed",i))},function(t){H[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class vt extends $t{constructor(t){super(),dt(this,t,kt,wt,r,{})}}function _t(e){let n;return{c(){n=w("div"),n.innerHTML='<span>Fork it on <a href="https://github.com/matita/clocks/">GitHub</a></span>\n  ·\n  <span>Need a feature? Found a bug? <a href="https://github.com/matita/clocks/issues">File an issue</a>!</span>\n  ·\n  <span>Made by <a href="http://matita.github.io/2015/10/17/clocks/">Matita</a></span>',M(n,"class","text-center text-sm pb-2 text-gray-400")},m(t,e){x(t,n,e)},p:t,i:t,o:t,d(t){t&&b(n)}}}class Lt extends $t{constructor(t){super(),dt(this,t,null,_t,r,{})}}function Mt(t){const e=t-1;return e*e*e+1}function Ot(t,{delay:n=0,duration:o=400,easing:s=e}={}){const c=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:s,css:t=>"opacity: "+t*c}}function Ct(t,{delay:e=0,duration:n=400,easing:o=Mt}={}){const s=getComputedStyle(t),c=+s.opacity,r=parseFloat(s.height),l=parseFloat(s.paddingTop),i=parseFloat(s.paddingBottom),a=parseFloat(s.marginTop),u=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),d=parseFloat(s.borderBottomWidth);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*c};height: ${t*r}px;padding-top: ${t*l}px;padding-bottom: ${t*i}px;margin-top: ${t*a}px;margin-bottom: ${t*u}px;border-top-width: ${t*f}px;border-bottom-width: ${t*d}px;`}}const Et={subscribe:gt(Date.now(),(t=>{const e=setInterval((()=>{t(Date.now())}),100);return()=>{clearInterval(e)}})).subscribe};function St(t){let e,n,o,s,c;const r=t[1].default,l=a(r,t,t[0],null);return{c(){e=w("div"),l&&l.c(),M(e,"class","fixed z-10 bg-black bg-opacity-30 inset-0 flex place-items-center overflow-y-auto")},m(n,r){x(n,e,r),l&&l.m(e,null),o=!0,s||(c=L(e,"click",t[2]),s=!0)},p(t,[e]){l&&l.p&&1&e&&f(l,r,t,t[0],e,null,null)},i(t){o||(nt(l,t),U((()=>{n||(n=ct(e,Ot,{duration:100},!0)),n.run(1)})),o=!0)},o(t){ot(l,t),n||(n=ct(e,Ot,{duration:100},!1)),n.run(0),o=!1},d(t){t&&b(e),l&&l.d(t),t&&n&&n.end(),s=!1,c()}}}function Tt(t,e,n){let{$$slots:o={},$$scope:s}=e;return t.$$set=t=>{"$$scope"in t&&n(0,s=t.$$scope)},[s,o,function(e){D(t,e)}]}class zt extends $t{constructor(t){super(),dt(this,t,Tt,St,r,{})}}function Rt(t){let e,n;const o=t[1].default,s=a(o,t,t[0],null);return{c(){e=w("div"),s&&s.c(),M(e,"role","menu"),M(e,"class","bg-white w-56 mx-auto rounded-md ring-1 ring-black ring-opacity-5 py-1")},m(t,o){x(t,e,o),s&&s.m(e,null),n=!0},p(t,[e]){s&&s.p&&1&e&&f(s,o,t,t[0],e,null,null)},i(t){n||(nt(s,t),n=!0)},o(t){ot(s,t),n=!1},d(t){t&&b(e),s&&s.d(t)}}}function Ft(t,e,n){let{$$slots:o={},$$scope:s}=e;return t.$$set=t=>{"$$scope"in t&&n(0,s=t.$$scope)},[s,o]}class jt extends $t{constructor(t){super(),dt(this,t,Ft,Rt,r,{})}}function At(t){let e,n,o,s;const c=t[1].default,r=a(c,t,t[0],null);return{c(){e=w("div"),r&&r.c(),M(e,"class","block px-4 py-2 text-sm text-gray-700 hover:bg-primary-100 hover:text-primary-900"),M(e,"role","menuitem")},m(c,l){var i;x(c,e,l),r&&r.m(e,null),n=!0,o||(s=L(e,"click",(i=t[2],function(t){return t.stopPropagation(),i.call(this,t)})),o=!0)},p(t,[e]){r&&r.p&&1&e&&f(r,c,t,t[0],e,null,null)},i(t){n||(nt(r,t),n=!0)},o(t){ot(r,t),n=!1},d(t){t&&b(e),r&&r.d(t),o=!1,s()}}}function Nt(t,e,n){let{$$slots:o={},$$scope:s}=e;return t.$$set=t=>{"$$scope"in t&&n(0,s=t.$$scope)},[s,o,function(e){D(t,e)}]}class Dt extends $t{constructor(t){super(),dt(this,t,Nt,At,r,{})}}const Pt=gt([]),{subscribe:Ht,update:It}=Pt;let Bt=1;const Wt=(t,{location:e,minutesOffset:n,name:o})=>t.some((t=>t.location===e&&t.minutesOffset===n&&t.name===o));var Jt={subscribe:Ht,has:t=>Wt(function(t){let e;return l(t,(t=>e=t))(),e}(Pt),t),add:t=>It((e=>Wt(e,t)?e:e.concat({...t,id:Bt++}))),rename:(t,e)=>It((n=>n.map((n=>n!==t?n:{...t,name:e})))),delete:t=>It((e=>e.filter((e=>e!==t))))};const Ut=t=>encodeURIComponent(t).replace(/%20/g,"+").replace(/%2C/g,",");function qt(t){let e;return{c(){e=k("Rename")},m(t,n){x(t,e,n)},d(t){t&&b(e)}}}function Gt(t){let e,n=t[0]?"Link copied!":"Share";return{c(){e=k(n)},m(t,n){x(t,e,n)},p(t,o){1&o&&n!==(n=t[0]?"Link copied!":"Share")&&O(e,n)},d(t){t&&b(e)}}}function Yt(t){let e;return{c(){e=k("Delete")},m(t,n){x(t,e,n)},d(t){t&&b(e)}}}function Vt(t){let e,n,o,s,c,r;return e=new Dt({props:{$$slots:{default:[qt]},$$scope:{ctx:t}}}),e.$on("click",t[2]),o=new Dt({props:{$$slots:{default:[Gt]},$$scope:{ctx:t}}}),o.$on("click",t[4]),c=new Dt({props:{$$slots:{default:[Yt]},$$scope:{ctx:t}}}),c.$on("click",t[3]),{c(){it(e.$$.fragment),n=v(),it(o.$$.fragment),s=v(),it(c.$$.fragment)},m(t,l){at(e,t,l),x(t,n,l),at(o,t,l),x(t,s,l),at(c,t,l),r=!0},p(t,n){const s={};128&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const r={};129&n&&(r.$$scope={dirty:n,ctx:t}),o.$set(r);const l={};128&n&&(l.$$scope={dirty:n,ctx:t}),c.$set(l)},i(t){r||(nt(e.$$.fragment,t),nt(o.$$.fragment,t),nt(c.$$.fragment,t),r=!0)},o(t){ot(e.$$.fragment,t),ot(o.$$.fragment,t),ot(c.$$.fragment,t),r=!1},d(t){ut(e,t),t&&b(n),ut(o,t),t&&b(s),ut(c,t)}}}function Kt(t){let e,n;return e=new jt({props:{$$slots:{default:[Vt]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},p(t,n){const o={};129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function Qt(t){let e,n;return e=new zt({props:{$$slots:{default:[Kt]},$$scope:{ctx:t}}}),e.$on("click",t[1]),{c(){it(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},p(t,[n]){const o={};129&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function Xt(t,e,n){let{clock:o}=e,s=!1;const c=N(),r=()=>c("close");return t.$$set=t=>{"clock"in t&&n(5,o=t.clock)},[s,r,function(){r();const t=prompt("Name of the clock:",o.name||"");null!==t&&Jt.rename(o,t)},function(){confirm("Are you sure you want to delete this clock?")&&(r(),Jt.delete(o))},function(){if(s)return;const t=`${location.protocol}//${location.host}${location.pathname}?clocks=${(t=>t.filter((t=>!t.isLocal)).map((t=>[t.location,t.minutesOffset,t.name||""].map(Ut).join(";"))).join("|"))([o])}`;var e,c,l,i;e=t,(i=document.createElement("div")).contentEditable=!0,i.innerHTML=e,i.setAttribute("readonly",""),i.style.position="absolute",i.style.left="-9999px",document.body.appendChild(i),document.body.createTextRange?((c=document.body.createTextRange()).moveToElement(i),c.select()):window.getSelection&&(l=window.getSelection(),(c=document.createRange()).selectNodeContents(i),l.removeAllRanges(),l.addRange(c)),document.execCommand("copy"),window.getSelection().removeAllRanges(),document.body.removeChild(i),n(0,s=!0),setTimeout((()=>{n(0,s=!1),r()}),1e3)},o]}class Zt extends $t{constructor(t){super(),dt(this,t,Xt,Qt,r,{clock:5})}}function te(e){let n,o,s;return{c(){n=w("button"),n.textContent="⋮",M(n,"class","absolute top-2 right-1 px-2")},m(t,c){x(t,n,c),o||(s=L(n,"click",e[4]),o=!0)},p:t,d(t){t&&b(n),o=!1,s()}}}function ee(t){let e,n;return e=new Zt({props:{clock:t[2]}}),e.$on("close",t[5]),{c(){it(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.clock=t[2]),e.$set(o)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function ne(t){let e,n,o,s,c,r,l,i,a,u,f=(t[0].isLocal?"Local":t[0].name||"---")+"",d=(t[0].isLocal?"Your position":t[0].location)+"",$=t[1]&&!t[0].isLocal&&te(t),p=t[3]&&ee(t);return{c(){e=w("div"),n=w("div"),o=k(f),s=v(),c=w("div"),r=k(d),l=v(),$&&$.c(),i=v(),p&&p.c(),M(n,"class","text-gray-500"),M(c,"class","text-xs text-gray-400"),M(e,"class","px-4 py-2 mb-2 relative rounded-xl transition-shadow duration-300"),C(e,"bg-white",!t[0].isLocal)},m(t,a){x(t,e,a),y(e,n),y(n,o),y(e,s),y(e,c),y(c,r),y(e,l),$&&$.m(e,null),y(e,i),p&&p.m(e,null),u=!0},p(t,[n]){(!u||1&n)&&f!==(f=(t[0].isLocal?"Local":t[0].name||"---")+"")&&O(o,f),(!u||1&n)&&d!==(d=(t[0].isLocal?"Your position":t[0].location)+"")&&O(r,d),t[1]&&!t[0].isLocal?$?$.p(t,n):($=te(t),$.c(),$.m(e,i)):$&&($.d(1),$=null),t[3]?p?(p.p(t,n),8&n&&nt(p,1)):(p=ee(t),p.c(),nt(p,1),p.m(e,null)):p&&(tt(),ot(p,1,1,(()=>{p=null})),et()),1&n&&C(e,"bg-white",!t[0].isLocal)},i(t){u||(nt(p),t&&U((()=>{a||(a=ct(e,Ct,{},!0)),a.run(1)})),u=!0)},o(t){ot(p),t&&(a||(a=ct(e,Ct,{},!1)),a.run(0)),u=!1},d(t){t&&b(e),$&&$.d(),p&&p.d(),t&&a&&a.end()}}}let oe=gt(null);function se(t,e,n){let o,s;i(t,oe,(t=>n(2,s=t)));let{clock:c}=e,{showMenu:r=!1}=e;return t.$$set=t=>{"clock"in t&&n(0,c=t.clock),"showMenu"in t&&n(1,r=t.showMenu)},t.$$.update=()=>{5&t.$$.dirty&&n(3,o=s===c)},[c,r,s,o,function(){d(oe,s=c,s)},()=>d(oe,s=null,s)]}class ce extends $t{constructor(t){super(),dt(this,t,se,ne,r,{clock:0,showMenu:1})}}function re(t,e,n){const o=t.slice();return o[9]=e[n],o}function le(t,e){let n,o,s;return o=new ce({props:{clock:e[9],showMenu:e[0]}}),{key:t,first:null,c(){n=_(),it(o.$$.fragment),this.first=n},m(t,e){x(t,n,e),at(o,t,e),s=!0},p(t,n){e=t;const s={};4&n&&(s.clock=e[9]),1&n&&(s.showMenu=e[0]),o.$set(s)},i(t){s||(nt(o.$$.fragment,t),s=!0)},o(t){ot(o.$$.fragment,t),s=!1},d(t){t&&b(n),ut(o,t)}}}function ie(t){let e,n,o,s,c,r,l,i,a,u,f,d=[],$=new Map,p=t[2];const m=t=>t[9].id;for(let e=0;e<p.length;e+=1){let n=re(t,p,e),o=m(n);$.set(o,d[e]=le(o,n))}return{c(){e=w("div"),n=w("div"),o=w("div"),s=w("span"),c=k(t[1]),r=v(),l=w("div"),l.textContent=`GMT${t[3]>=0?`+${t[3]}`:t[3]}`,i=v(),a=w("div");for(let t=0;t<d.length;t+=1)d[t].c();C(s,"text-primary-600",t[4]),M(l,"class","text-xs text-gray-400"),C(l,"text-primary-500",t[4]),M(o,"class","text-center py-2 px-2 sticky top-0"),M(n,"class","flex-none relative w-24"),M(a,"class","flex-1"),M(e,"class","flex max-w-full")},m(t,u){x(t,e,u),y(e,n),y(n,o),y(o,s),y(s,c),y(o,r),y(o,l),y(e,i),y(e,a);for(let t=0;t<d.length;t+=1)d[t].m(a,null);f=!0},p(t,[e]){(!f||2&e)&&O(c,t[1]),5&e&&(p=t[2],tt(),d=lt(d,e,m,1,t,p,$,a,rt,le,null,re),et())},i(t){if(!f){for(let t=0;t<p.length;t+=1)nt(d[t]);t&&U((()=>{u||(u=ct(e,Ct,{},!0)),u.run(1)})),f=!0}},o(t){for(let t=0;t<d.length;t+=1)ot(d[t]);t&&(u||(u=ct(e,Ct,{},!1)),u.run(0)),f=!1},d(t){t&&b(e);for(let t=0;t<d.length;t+=1)d[t].d();t&&u&&u.end()}}}function ae(t,e,n){let o,s;i(t,Et,(t=>n(6,s=t)));let c,{zone:r}=e,{showMenu:l=!1}=e;const a=new Date,u=("minutesOffset"in r?r.minutesOffset:-a.getTimezoneOffset())/60,f=r.minutesOffset===-a.getTimezoneOffset();return t.$$set=t=>{"zone"in t&&n(5,r=t.zone),"showMenu"in t&&n(0,l=t.showMenu)},t.$$.update=()=>{96&t.$$.dirty&&(a.setTime(s+60*((r.minutesOffset||0)+(r.isLocal?0:a.getTimezoneOffset()))*1e3),n(1,c=a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))),32&t.$$.dirty&&n(2,o=r.clocks.sort(((t,e)=>t.isLocal?-1:e.isLocal?1:(t.name||"").localeCompare(e.name||""))))},[l,c,o,u,f,r,s]}class ue extends $t{constructor(t){super(),dt(this,t,ae,ie,r,{zone:5,showMenu:0})}}function fe(t,e,n){const o=t.slice();return o[7]=e[n],o}function de(t,e){let n,o,s;return o=new ue({props:{zone:e[7],showMenu:e[0]}}),{key:t,first:null,c(){n=_(),it(o.$$.fragment),this.first=n},m(t,e){x(t,n,e),at(o,t,e),s=!0},p(t,n){e=t;const s={};2&n&&(s.zone=e[7]),1&n&&(s.showMenu=e[0]),o.$set(s)},i(t){s||(nt(o.$$.fragment,t),s=!0)},o(t){ot(o.$$.fragment,t),s=!1},d(t){t&&b(n),ut(o,t)}}}function $e(t){let e,n,o=[],s=new Map,c=t[1];const r=t=>t[7].minutesOffset;for(let e=0;e<c.length;e+=1){let n=fe(t,c,e),l=r(n);s.set(l,o[e]=de(l,n))}return{c(){e=w("div");for(let t=0;t<o.length;t+=1)o[t].c();M(e,"class","")},m(t,s){x(t,e,s);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){3&n&&(c=t[1],tt(),o=lt(o,n,r,1,t,c,s,e,rt,de,null,fe),et())},i(t){if(!n){for(let t=0;t<c.length;t+=1)nt(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)ot(o[t]);n=!1},d(t){t&&b(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function pe(t,e,n){let o,s,c;i(t,bt,(t=>n(5,c=t)));let{clocks:r=[]}=e,{showLocal:l=!1}=e,{showMenu:a=!1}=e;const u=-(new Date).getTimezoneOffset();return t.$$set=t=>{"clocks"in t&&n(2,r=t.clocks),"showLocal"in t&&n(3,l=t.showLocal),"showMenu"in t&&n(0,a=t.showMenu)},t.$$.update=()=>{12&t.$$.dirty&&n(4,o=l?r.concat({minutesOffset:u,name:"",location:"Local",isLocal:!0}):r),48&t.$$.dirty&&n(1,s=Object.entries(o.filter((t=>t.isLocal||-1!==(t.name||"").toLowerCase().indexOf(c)||-1!==(t.location||"").toLowerCase().indexOf(c))).reduce(((t,e)=>{const{minutesOffset:n}=e;return(t[n]=t[n]||[]).push(e),t}),{})).map((([t,e])=>({minutesOffset:+t,clocks:e}))).sort(((t,e)=>t.minutesOffset-e.minutesOffset)))},[a,s,r,l,o,c]}class me extends $t{constructor(t){super(),dt(this,t,pe,$e,r,{clocks:2,showLocal:3,showMenu:0})}}function ge(t){let e,n,o,s,c,r,l,i,u;const d=t[1].default,$=a(d,t,t[0],null);return{c(){e=w("div"),n=w("div"),o=w("div"),o.innerHTML='<div class="absolute inset-0 bg-gray-500 opacity-75"></div>',s=v(),c=w("span"),c.textContent="​",r=v(),l=w("div"),$&&$.c(),M(o,"class","fixed inset-0 transition-opacity"),M(o,"aria-hidden","true"),M(c,"class","hidden sm:inline-block sm:align-middle sm:h-screen"),M(c,"aria-hidden","true"),M(l,"class","inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"),M(l,"role","dialog"),M(l,"aria-modal","true"),M(l,"aria-labelledby","modal-headline"),M(n,"class","flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"),M(e,"class","fixed z-10 inset-0 overflow-y-auto")},m(t,i){x(t,e,i),y(e,n),y(n,o),y(n,s),y(n,c),y(n,r),y(n,l),$&&$.m(l,null),u=!0},p(t,[e]){$&&$.p&&1&e&&f($,d,t,t[0],e,null,null)},i(t){u||(nt($,t),U((()=>{i||(i=ct(e,Ot,{duration:200},!0)),i.run(1)})),u=!0)},o(t){ot($,t),i||(i=ct(e,Ot,{duration:200},!1)),i.run(0),u=!1},d(t){t&&b(e),$&&$.d(t),t&&i&&i.end()}}}function he(t,e,n){let{$$slots:o={},$$scope:s}=e;return t.$$set=t=>{"$$scope"in t&&n(0,s=t.$$scope)},[s,o]}class ye extends $t{constructor(t){super(),dt(this,t,he,ge,r,{})}}function xe(t){let e,n;const o=t[1].default,s=a(o,t,t[0],null);return{c(){e=w("div"),s&&s.c(),M(e,"class","bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4")},m(t,o){x(t,e,o),s&&s.m(e,null),n=!0},p(t,[e]){s&&s.p&&1&e&&f(s,o,t,t[0],e,null,null)},i(t){n||(nt(s,t),n=!0)},o(t){ot(s,t),n=!1},d(t){t&&b(e),s&&s.d(t)}}}function be(t,e,n){let{$$slots:o={},$$scope:s}=e;return t.$$set=t=>{"$$scope"in t&&n(0,s=t.$$scope)},[s,o]}class we extends $t{constructor(t){super(),dt(this,t,be,xe,r,{})}}function ke(t){let e,n;const o=t[1].default,s=a(o,t,t[0],null);return{c(){e=w("div"),s&&s.c(),M(e,"class","bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse")},m(t,o){x(t,e,o),s&&s.m(e,null),n=!0},p(t,[e]){s&&s.p&&1&e&&f(s,o,t,t[0],e,null,null)},i(t){n||(nt(s,t),n=!0)},o(t){ot(s,t),n=!1},d(t){t&&b(e),s&&s.d(t)}}}function ve(t,e,n){let{$$slots:o={},$$scope:s}=e;return t.$$set=t=>{"$$scope"in t&&n(0,s=t.$$scope)},[s,o]}class _e extends $t{constructor(t){super(),dt(this,t,ve,ke,r,{})}}function Le(t){let e,n,o,s;const c=t[2].default,r=a(c,t,t[1],null);return{c(){e=w("button"),r&&r.c(),M(e,"type","button"),M(e,"class","w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm"),C(e,"bg-primary-600",t[0]),C(e,"hover:bg-primary-700",t[0]),C(e,"border-gray-300",!t[0]),C(e,"bg-white",!t[0]),C(e,"text-gray-700",!t[0]),C(e,"hover:bg-gray-50",!t[0])},m(c,l){x(c,e,l),r&&r.m(e,null),n=!0,o||(s=L(e,"click",t[3]),o=!0)},p(t,[n]){r&&r.p&&2&n&&f(r,c,t,t[1],n,null,null),1&n&&C(e,"bg-primary-600",t[0]),1&n&&C(e,"hover:bg-primary-700",t[0]),1&n&&C(e,"border-gray-300",!t[0]),1&n&&C(e,"bg-white",!t[0]),1&n&&C(e,"text-gray-700",!t[0]),1&n&&C(e,"hover:bg-gray-50",!t[0])},i(t){n||(nt(r,t),n=!0)},o(t){ot(r,t),n=!1},d(t){t&&b(e),r&&r.d(t),o=!1,s()}}}function Me(t,e,n){let{$$slots:o={},$$scope:s}=e,{primary:c=!1}=e;return t.$$set=t=>{"primary"in t&&n(0,c=t.primary),"$$scope"in t&&n(1,s=t.$$scope)},[c,s,o,function(e){D(t,e)}]}class Oe extends $t{constructor(t){super(),dt(this,t,Me,Le,r,{primary:0})}}function Ce(t){let e,n;return e=new me({props:{clocks:t[0]}}),{c(){it(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.clocks=t[0]),e.$set(o)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function Ee(t){let e;return{c(){e=k("Save all")},m(t,n){x(t,e,n)},d(t){t&&b(e)}}}function Se(t){let e;return{c(){e=k("Close")},m(t,n){x(t,e,n)},d(t){t&&b(e)}}}function Te(t){let e,n,o,s;return e=new Oe({props:{primary:!0,$$slots:{default:[Ee]},$$scope:{ctx:t}}}),e.$on("click",t[1]),o=new Oe({props:{$$slots:{default:[Se]},$$scope:{ctx:t}}}),o.$on("click",t[2]),{c(){it(e.$$.fragment),n=v(),it(o.$$.fragment)},m(t,c){at(e,t,c),x(t,n,c),at(o,t,c),s=!0},p(t,n){const s={};32&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const c={};32&n&&(c.$$scope={dirty:n,ctx:t}),o.$set(c)},i(t){s||(nt(e.$$.fragment,t),nt(o.$$.fragment,t),s=!0)},o(t){ot(e.$$.fragment,t),ot(o.$$.fragment,t),s=!1},d(t){ut(e,t),t&&b(n),ut(o,t)}}}function ze(t){let e,n,o,s;return e=new we({props:{$$slots:{default:[Ce]},$$scope:{ctx:t}}}),o=new _e({props:{$$slots:{default:[Te]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment),n=v(),it(o.$$.fragment)},m(t,c){at(e,t,c),x(t,n,c),at(o,t,c),s=!0},p(t,n){const s={};33&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const c={};32&n&&(c.$$scope={dirty:n,ctx:t}),o.$set(c)},i(t){s||(nt(e.$$.fragment,t),nt(o.$$.fragment,t),s=!0)},o(t){ot(e.$$.fragment,t),ot(o.$$.fragment,t),s=!1},d(t){ut(e,t),t&&b(n),ut(o,t)}}}function Re(t){let e,n;return e=new ye({props:{$$slots:{default:[ze]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},p(t,[n]){const o={};33&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function Fe(t,e,n){let{clocks:o=[]}=e;const s=N(),c=()=>s("close");return t.$$set=t=>{"clocks"in t&&n(0,o=t.clocks)},[o,function(){o.forEach(Jt.add),c()},function(){c()}]}class je extends $t{constructor(t){super(),dt(this,t,Fe,Re,r,{clocks:0})}}function Ae(e){let n,o;return n=new je({props:{clocks:e[2]}}),n.$on("close",e[4]),{c(){it(n.$$.fragment)},m(t,e){at(n,t,e),o=!0},p:t,i(t){o||(nt(n.$$.fragment,t),o=!0)},o(t){ot(n.$$.fragment,t),o=!1},d(t){ut(n,t)}}}function Ne(t){let e,n,o,s,c,r,l,i,a,u;o=new vt({}),o.$on("locationselected",t[3]),c=new me({props:{clocks:t[1],showLocal:!0,showMenu:!0}}),l=new Lt({});let f=t[0]&&Ae(t);return{c(){e=w("div"),n=w("div"),it(o.$$.fragment),s=v(),it(c.$$.fragment),r=v(),it(l.$$.fragment),i=v(),f&&f.c(),a=_(),M(n,"class","max-w-xl mx-auto my-4 text-gray-600"),M(e,"class","flex-grow")},m(t,d){x(t,e,d),y(e,n),at(o,n,null),y(n,s),at(c,n,null),x(t,r,d),at(l,t,d),x(t,i,d),f&&f.m(t,d),x(t,a,d),u=!0},p(t,[e]){const n={};2&e&&(n.clocks=t[1]),c.$set(n),t[0]?f?(f.p(t,e),1&e&&nt(f,1)):(f=Ae(t),f.c(),nt(f,1),f.m(a.parentNode,a)):f&&(tt(),ot(f,1,1,(()=>{f=null})),et())},i(t){u||(nt(o.$$.fragment,t),nt(c.$$.fragment,t),nt(l.$$.fragment,t),nt(f),u=!0)},o(t){ot(o.$$.fragment,t),ot(c.$$.fragment,t),ot(l.$$.fragment,t),ot(f),u=!1},d(t){t&&b(e),ut(o),ut(c),t&&b(r),ut(l,t),t&&b(i),f&&f.d(t),t&&b(a)}}}function De(t,e,n){let o;i(t,Jt,(t=>n(1,o=t)));try{JSON.parse(localStorage.clocks_items).forEach(Jt.add)}catch(t){console.log("error while loading from localStorage",t)}const s=new URLSearchParams(location.search.substr(1)),c=(r=s.get("clocks"),(r||"").split("|").filter((t=>!!t)).map(((t,e)=>{const[n,o,s]=t.split(";").map(decodeURIComponent);return{id:`shared-${e+1}`,location:n,name:s,minutesOffset:+o}}))).filter((t=>!Jt.has(t)));var r;history.replaceState({},"Clocks","?"),Jt.subscribe((t=>localStorage.clocks_items=JSON.stringify(t.filter((t=>!t.isLocal)))));let l=!!c.length;return[l,o,c,function({detail:t}){Jt.add(t)},()=>n(0,l=!1)]}return new class extends $t{constructor(t){super(),dt(this,t,De,Ne,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
